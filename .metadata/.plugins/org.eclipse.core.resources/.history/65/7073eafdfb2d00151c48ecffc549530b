package com.hackbulgaria.programming51.week5a;

import java.util.ArrayList;
import java.util.Scanner;
import java.lang.String.contains;

public class WordMain {

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        String searched = scanner.next();
        char [][] map;
        int n,m;
        n = scanner.nextInt();
        m = scanner.nextInt();
        map = new char[n][m];
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < m; j++) {
                map[i][j] = scanner.next().charAt(0);
            }
        }
        
        String result = "";
        ArrayList<String> temp = new ArrayList<>();
        //left to right horizontal
        for (int i = 0; i < map.length; i++) {
			String result = "";
			for (int j = 0; j < map[i].length; j++) {
				result += map[i][j];
			}
			temp.add(result);
		}
        //right to left horizontal
        for (int i = 0; i < map.length; i++) {
			String result = "";
			for (int j = map[i].length-1; j >= 0; j--) {
				result += map[i][j];
			}
			temp.add(result);
		}
        
      //up down vertical
        for (int i = 0; i < map.length; i++) {
			String result = "";
			result += map[i][0];
			}
			temp.add(result);
		}
        
        System.out.println(temp);
        
        int counter = 0;
        
        for (int i = 0; i < temp.size(); i++) {
			if (temp.get(i).contains(searched)) {
				counter += 1;
			}
		}
        
        System.out.println(counter);

        // Print result here
    }
}
